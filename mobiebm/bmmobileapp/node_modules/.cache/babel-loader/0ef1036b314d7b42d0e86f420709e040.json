{"remainingRequest":"c:\\Users\\Administrator\\Desktop\\xianmu\\mobiebm\\bmmobileapp\\node_modules\\babel-loader\\lib\\index.js!c:\\Users\\Administrator\\Desktop\\xianmu\\mobiebm\\bmmobileapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\Users\\Administrator\\Desktop\\xianmu\\mobiebm\\bmmobileapp\\src\\components\\bamobile\\common\\user.vue?vue&type=script&lang=js","dependencies":[{"path":"c:\\Users\\Administrator\\Desktop\\xianmu\\mobiebm\\bmmobileapp\\src\\components\\bamobile\\common\\user.vue","mtime":1562027147940},{"path":"c:\\Users\\Administrator\\Desktop\\xianmu\\mobiebm\\bmmobileapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"c:\\Users\\Administrator\\Desktop\\xianmu\\mobiebm\\bmmobileapp\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"c:\\Users\\Administrator\\Desktop\\xianmu\\mobiebm\\bmmobileapp\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      num: 0,\n      regphone: \"\",\n      regupwd: \"\",\n      regtpm: \"\",\n      regdxm: \"\",\n      logphone: \"\",\n      logupwd: \"\",\n      checked: true,\n      uid: \"\"\n    };\n  },\n  created: function created() {\n    this.islogin();\n  },\n  methods: {\n    selected: function selected(n) {\n      //切换登录与注册 v-show\n      this.num = n;\n    },\n    checkphone: function checkphone() {\n      var _this = this;\n\n      //验证手机号是否重名\n      var phoneReg = new RegExp(\"^[0-9]{11}$\", \"ig\");\n      var phone = this.regphone;\n\n      if (phone != \"\") {\n        if (!phoneReg.test(phone)) {\n          phoneReg.lastIndex = 0; //重置正则初始位置\n\n          this.$toast(\"手机格式不正确\");\n          this.regphone = \"\";\n          this.$refs.regphone.focus();\n          return;\n        } else {\n          //验证格式正确发送验证是否重名\n          var url1 = \"phone\";\n          var obj = {\n            phone: phone\n          }; //7:并且获取服务器返回结果\n\n          this.axios.get(url1, {\n            params: obj\n          }).then(function (result) {\n            if (result.data.length > 0) {\n              _this.$toast(\"手机号已重复\");\n\n              _this.regphone = \"\";\n\n              _this.$refs.regphone.focus();\n\n              return;\n            } else {\n              _this.$toast(\"手机号可注册\");\n\n              return;\n            }\n          });\n        }\n      }\n    },\n    //验证手机号是否重名\n    tupianma: function tupianma() {\n      //点击切换图片验证码\n      this.$refs.tupianma.innerHTML = Math.floor(Math.random() * 10000);\n    },\n    //点击切换图片验证码\n    check: function check(n) {\n      //验证手机和密码格式及图片码\n      if (n == 0) {\n        if (this.regtpm != \"\") {\n          if (this.$refs.tupianma.innerHTML != this.regtpm) {\n            this.$toast(\"图片码错误\");\n            this.regtpm = \"\";\n            return;\n          }\n        } //图片码的验证  \n\n      } else if (n == 1) {\n        var upwdReg = new RegExp(\"^[0-9]{6}$\", \"ig\");\n        var upwd = this.regupwd;\n\n        if (upwd != \"\") {\n          if (!upwdReg.test(upwd)) {\n            upwdReg.lastIndex = 0; //重置正则初始位置\n\n            this.$toast(\"密码格式不正确\");\n            this.regupwd = \"\";\n            this.$refs.regupwd1.focus();\n            return;\n          }\n        }\n\n        ;\n      } else if (n == 2) {\n        if (this.$refs.regupwd2.value != \"\") {\n          if (this.$refs.regupwd2.value != this.regupwd) {\n            this.$toast(\"密码不一致\");\n            this.$refs.regupwd2.value = \"\";\n            this.$refs.regupwd2.focus();\n          }\n        }\n      }\n    },\n    //验证手机和密码格式及图片码\n    regsubmit: function regsubmit() {\n      var _this2 = this;\n\n      //注册\n      if (this.regphone != \"\" && this.regupwd != \"\" && this.regtpm != \"\" && this.regdxm != \"\" && this.$refs.regupwd2.value != \"\") {\n        var url = \"reg\";\n        var phone = this.regphone;\n        var upwd = this.regupwd;\n        var obj = {\n          phone: phone,\n          upawd: upwd\n        }; //处理字符串\n\n        var qs = require(\"qs\");\n\n        obj = qs.stringify(obj);\n        this.axios.post(url, obj).then(function (result) {\n          console.log(result.data);\n\n          if (result.data.data.affectedRows > 0) {\n            _this2.$toast(\"\".concat(result.data.msg, \",\\u8BF7\\u767B\\u5F55\"));\n\n            _this2.num = 0;\n            return;\n          }\n        });\n      } else {\n        this.$toast(\"请输入完整信息\");\n      }\n    },\n    //注册\n    logsubmit: function logsubmit() {\n      var _this3 = this;\n\n      //登录\n      if (this.logphone != \"\" && this.logupwd != \"\") {\n        var url = \"log\";\n        var phone = this.logphone;\n        var upwd = this.logupwd;\n        var obj = {\n          phone: phone,\n          upawd: upwd\n        }; //处理字符串\n\n        var qs = require(\"qs\");\n\n        obj = qs.stringify(obj);\n        this.axios.post(url, obj).then(function (result) {\n          //console.log(result.data[0].uid)\n          if (result.data.length > 0) {\n            _this3.$toast(\"\\u767B\\u5F55\\u6210\\u529F\");\n\n            localStorage.setItem(\"uid\", \"\".concat(result.data[0].uid));\n            _this3.uid = localStorage.getItem(\"uid\");\n            _this3.num = 2;\n          } else {\n            _this3.$toast(\"\\u7528\\u6237\\u540D\\u6216\\u5BC6\\u7801\\u9519\\u8BEF\");\n          }\n        });\n      } else {\n        this.$toast(\"请输入完整信息\");\n      }\n    },\n    //登录\n    islogin: function islogin() {\n      //是否登录\n      var uid = localStorage.getItem(\"uid\"); //console.log(uid);\n\n      if (!uid) {\n        this.num = 0;\n      } else {\n        this.num = 2;\n      }\n    },\n    logOut: function logOut() {\n      //退出登录\n      localStorage.removeItem(\"uid\");\n      this.num = 0;\n      this.logphone = \"\", this.logupwd = \"\", this.$router.push({\n        path: '/bama'\n      });\n      window.location.reload();\n    }\n  } // watch:{\n  //     $route(to,from){\n  //   console.log(to) \n  //   this.active=to.query.key;}\n  // },\n\n};",{"version":3,"sources":["user.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"container\" @touchmove.prevent>\r\n        <!-- 页头 -->\r\n        <div class=\"header\" v-show=\"2!=num\">\r\n            <img class=\"headerimg\" src=\"../../../assets/image/common/loginuser.jpg\" width=\"100%\" alt=\"\">\r\n            <div class=\"userimg\">\r\n                <img src=\"../../../assets/image/common/user-pic.png\" width=\"100%\" alt=\"\">\r\n            </div>\r\n            <div class=\"btnbox\">\r\n                <div @click=\"selected(0)\">登 录<span></span></div>\r\n                <div @click=\"selected(1)\">注 册<span></span></div>\r\n            </div>\r\n        </div>\r\n        <!-- 注册表单 -->\r\n        <div id=\"form1\" v-show=\"1 == num\">\r\n            <ul class=\"regbody formlist\">\r\n                <li>\r\n                    <span>手机号码</span>\r\n                    <input type=\"text\" @blur=\"checkphone()\" v-model=\"regphone\" placeholder=\"输入手机号\" ref='regphone'>\r\n                </li>\r\n                <li>\r\n                    <span>图片验证</span>\r\n                    <input type=\"text\" placeholder=\"输入图片码\" @blur=check(0) v-model=\"regtpm\">\r\n                    <span class=\"checkpic\" @click=\"tupianma()\" ref='tupianma'>2214</span>\r\n                </li>\r\n                <li>\r\n                    <span>验证码</span>\r\n                    <input type=\"text\" placeholder=\"短信验证码\" v-model=\"regdxm\">\r\n                    <span class=\"checknum\">获取验证码</span>\r\n                </li>\r\n                <li>\r\n                    <span>密码</span>\r\n                    <input type=\"text\" v-model=\"regupwd\" placeholder=\"设置6位数字密码\" @blur=check(1) ref='regupwd1'>\r\n                </li>\r\n                <li>\r\n                    <span>确认密码</span>\r\n                    <input type=\"text\" placeholder=\"再次输入密码\" @blur=check(2)\r\n                    ref='regupwd2'>\r\n                </li>\r\n            </ul>\r\n            <div class=\"agreecheckbox\">\r\n                <input type=\"checkbox\" v-model=\"checked\"> 同意 商城用户注册协议\r\n            </div>\r\n            <div class=\"subbox\">\r\n                <button class=\"regsub\"  @click=\"regsubmit()\" :disabled=\"!checked\">注 册</button>\r\n            </div>\r\n        </div>\r\n        \r\n        <!-- 登录表单 -->\r\n        <div v-show=\"0 == num\">\r\n            <ul class=\"logbody formlist\">\r\n                <li>\r\n                    <span>用户名</span>\r\n                    <input type=\"text\" v-model=\"logphone\" placeholder=\"账号/手机号\">\r\n                </li>\r\n                <li>\r\n                    <span>密码</span>\r\n                    <input type=\"text\" v-model=\"logupwd\" placeholder=\"请输入密码\">\r\n                    <span><img src=\"#\" alt=\"\"></span>\r\n                </li>\r\n            </ul>\r\n            <div class=\"forgetpwd\">\r\n                忘记密码？\r\n            </div>\r\n            <div class=\"subbox\">\r\n                <button class=\"logsub\" @click=\"logsubmit()\" > 登录 </button>\r\n            </div>\r\n        </div>\r\n        <!-- 登录成功 -->\r\n        <div v-show=\"2 == num\">\r\n            <div class=\"usermsg\">\r\n            个人中心\r\n            <ul>\r\n                <li>欢迎13968853090用户{{uid}}号</li>\r\n                <li>物流信息</li>\r\n                <li>我的收藏</li>\r\n                <li>我的订单</li>\r\n                <li @click=\"logOut()\">退出登录</li>\r\n                <li>设置</li>\r\n            </ul>\r\n            </div>\r\n        </div>\r\n\r\n    </div>    \r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            num:0,\r\n            regphone:\"\",\r\n            regupwd:\"\",\r\n            regtpm:\"\",\r\n            regdxm:\"\",\r\n            logphone:\"\",\r\n            logupwd:\"\",\r\n            checked:true,\r\n            uid:\"\",\r\n\r\n        }\r\n    },\r\n    created(){\r\n        this.islogin();\r\n    },\r\n    methods: {\r\n        selected(n) {//切换登录与注册 v-show\r\n            this.num = n;\r\n        },\r\n        checkphone(){//验证手机号是否重名\r\n            var phoneReg=new RegExp(\"^[0-9]{11}$\",\"ig\");\r\n            var phone=this.regphone;\r\n            if(phone !=\"\"){\r\n                if(!phoneReg.test(phone)){\r\n                    phoneReg.lastIndex = 0;//重置正则初始位置\r\n                    this.$toast(\"手机格式不正确\");\r\n                    this.regphone=\"\";\r\n                    this.$refs.regphone.focus();\r\n                    return;\r\n                }else{//验证格式正确发送验证是否重名\r\n                    var url1 = \"phone\";\r\n                    var obj = {phone:phone};\r\n                    //7:并且获取服务器返回结果\r\n                    this.axios.get(url1,{params:obj}).then(result=>{\r\n                        if(result.data.length>0){\r\n                            this.$toast(\"手机号已重复\");\r\n                            this.regphone=\"\";\r\n                            this.$refs.regphone.focus();\r\n                            return;\r\n                        }else{\r\n                            this.$toast(\"手机号可注册\");\r\n                            return;\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        },//验证手机号是否重名\r\n        tupianma(){//点击切换图片验证码\r\n            this.$refs.tupianma.innerHTML=Math.floor(Math.random()*10000);   \r\n        },//点击切换图片验证码\r\n        check(n){//验证手机和密码格式及图片码\r\n            if(n==0){\r\n                if(this.regtpm!=\"\"){\r\n                    if(this.$refs.tupianma.innerHTML!=this.regtpm){\r\n                    this.$toast(\"图片码错误\");\r\n                    this.regtpm=\"\";\r\n                    return;\r\n                    }\r\n                } //图片码的验证  \r\n            }else if(n==1){\r\n                let upwdReg=new RegExp(\"^[0-9]{6}$\",\"ig\");\r\n                let upwd=this.regupwd;\r\n                if(upwd !=\"\"){\r\n                    if(!upwdReg.test(upwd)){\r\n                        upwdReg.lastIndex = 0;//重置正则初始位置\r\n                        this.$toast(\"密码格式不正确\");\r\n                        this.regupwd=\"\";\r\n                        this.$refs.regupwd1.focus();\r\n                        return;\r\n                    }\r\n                };    \r\n            }else if(n==2){\r\n                if(this.$refs.regupwd2.value!=\"\"){\r\n                    if(this.$refs.regupwd2.value!=this.regupwd){\r\n                        this.$toast(\"密码不一致\");\r\n                        this.$refs.regupwd2.value=\"\";\r\n                        this.$refs.regupwd2.focus();\r\n                    }\r\n                }\r\n            }\r\n        },//验证手机和密码格式及图片码\r\n        regsubmit(){//注册\r\n             if(this.regphone!=\"\"\r\n             &&this.regupwd!=\"\"\r\n             &&this.regtpm!=\"\"\r\n             &&this.regdxm!=\"\"\r\n             &&this.$refs.regupwd2.value!=\"\"){\r\n                var url = \"reg\";\r\n                var phone=this.regphone;\r\n                var upwd=this.regupwd;\r\n                var obj = {\r\n                    phone:phone,\r\n                    upawd:upwd\r\n                };\r\n                 //处理字符串\r\n                var qs=require(\"qs\")\r\n                obj=qs.stringify(obj)\r\n                this.axios.post(url,obj).then(result=>{\r\n                    console.log(result.data)\r\n                    if(result.data.data.affectedRows>0){\r\n                        this.$toast(`${result.data.msg},请登录`);\r\n                        this.num=0;        \r\n                        return;\r\n                    }\r\n                })\r\n            } else {\r\n                this.$toast(\"请输入完整信息\");\r\n            }\r\n        },//注册\r\n        logsubmit(){//登录\r\n            if(this.logphone!=\"\"\r\n             &&this.logupwd!=\"\"){\r\n                var url = \"log\";\r\n                var phone=this.logphone;\r\n                var upwd=this.logupwd;\r\n                var obj = {\r\n                    phone:phone,\r\n                    upawd:upwd\r\n                };\r\n                 //处理字符串\r\n                var qs=require(\"qs\")\r\n                obj=qs.stringify(obj)\r\n                this.axios.post(url,obj).then(result=>{\r\n                    //console.log(result.data[0].uid)\r\n                    if(result.data.length>0){\r\n                        this.$toast(`登录成功`); \r\n                        localStorage.setItem(\"uid\", `${result.data[0].uid}`);\r\n                        this.uid=localStorage.getItem(\"uid\");\r\n                        this.num=2;\r\n                        \r\n                    }else{\r\n                        this.$toast(`用户名或密码错误`);\r\n                    }\r\n                })\r\n            }else{\r\n                this.$toast(\"请输入完整信息\");\r\n            }\r\n        },//登录\r\n        islogin(){//是否登录\r\n            var uid=localStorage.getItem(\"uid\");\r\n            //console.log(uid);\r\n            if(!uid){\r\n                this.num=0;\r\n            }else{\r\n                this.num=2;\r\n            }\r\n        },\r\n        logOut(){//退出登录\r\n            localStorage.removeItem(\"uid\");\r\n            this.num=0;\r\n            this.logphone=\"\",\r\n            this.logupwd=\"\",\r\n            this.$router.push({path:'/bama'})\r\n            window.location.reload();\r\n        }\r\n\r\n\r\n    },\r\n    // watch:{\r\n    //     $route(to,from){\r\n    //   console.log(to) \r\n    //   this.active=to.query.key;}\r\n    // },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n .container{\r\n    overflow: hidden;\r\n} \r\n.header{\r\n    width: 100%;\r\n    height:11em;\r\n}\r\n.headerimg{\r\n    position: relative;\r\n}\r\n.userimg{\r\n    background-color: rgba(0, 0, 0, 0.6);\r\n    position: fixed;\r\n    top: 6%;\r\n    left: 40%;\r\n    width:4em;\r\n    height:4em;\r\n    border-radius: 0.3em; \r\n}\r\n.btnbox{\r\n    width: 100%;\r\n    position: fixed;\r\n    display: flex;\r\n    top: 17.4%;\r\n    left: 0%;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n}\r\n.btnbox>div{\r\n    width: 50%;\r\n    height: 3.0em;\r\n    line-height: 3.0em;\r\n    text-align: center;\r\n    font-size: 1.2em;\r\n    color: #fff;\r\n}\r\n/*注册表单部分*/\r\n.regbody>li,.formlist>li{\r\n    padding: 0.3em;\r\n    display: flex;\r\n    width: 100%;\r\n    height: 3em;\r\n    line-height: 3em;\r\n    border-bottom: 0.4px solid #999;\r\n}\r\n.regbody>li>input,.formlist>li>input{\r\n    width: 45%;\r\n    height: 2.8em;\r\n    outline: none;\r\n    margin-top: 0.2em;\r\n    overflow: hidden;\r\n}\r\n.regbody>li>span:first-child,.formlist>li>span:first-child{\r\n    width: 25%;\r\n    padding-right: 0.5em;\r\n    text-align: right;\r\n    color: #999;\r\n}\r\n.checknum{\r\n    color: indianred;\r\n    font-size: 0.8em;\r\n    padding-left: 0.5em;\r\n}\r\n.checkpic{\r\n    height: 100%;\r\n    text-align: center;\r\n    display: inline-block;\r\n    width: 20%;\r\n    background-image:url(../../../assets/image/common/yztu.jpg);\r\n    overflow: hidden; \r\n}\r\n.agreecheckbox{\r\n    width: 100%;\r\n    height: 4em;\r\n    line-height: 4em;\r\n    padding-left: 1em;\r\n}\r\n.regsub,.logsub{\r\n    width: 90%;\r\n    height: 3em;\r\n    line-height: 3em;\r\n    text-align: center;\r\n    border-radius: 0.5em;\r\n    background-color:#E63D59;\r\n    color: #fff;\r\n    margin: 0 auto;\r\n    display: inline-block;\r\n    outline: none;\r\n    border: none;\r\n}\r\n.subbox{\r\n    text-align: center;\r\n}\r\n/*登录表单部分*/ \r\n.forgetpwd{\r\n    width: 100%;\r\n    height: 4em;\r\n    line-height: 4em;\r\n    text-align: right;\r\n    padding-right:1em;\r\n    color: #999; \r\n}\r\n.usermsg{\r\n    font-size: 1.5em;\r\n}\r\n.usermsg>ul li{\r\n    text-align: center;\r\n    line-height: 1.5em;\r\n    margin-top: 0.5em;\r\n}\r\n</style>\r\n\r\n"],"sourceRoot":"src\\components\\bamobile\\common"}]}