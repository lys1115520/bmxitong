{"remainingRequest":"c:\\Users\\Administrator\\Desktop\\xianmu\\mobiebm\\bmmobileapp\\node_modules\\babel-loader\\lib\\index.js!c:\\Users\\Administrator\\Desktop\\xianmu\\mobiebm\\bmmobileapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\Users\\Administrator\\Desktop\\xianmu\\mobiebm\\bmmobileapp\\src\\components\\bamobile\\common\\detail.vue?vue&type=script&lang=js","dependencies":[{"path":"c:\\Users\\Administrator\\Desktop\\xianmu\\mobiebm\\bmmobileapp\\src\\components\\bamobile\\common\\detail.vue","mtime":1562140525810},{"path":"c:\\Users\\Administrator\\Desktop\\xianmu\\mobiebm\\bmmobileapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"c:\\Users\\Administrator\\Desktop\\xianmu\\mobiebm\\bmmobileapp\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"c:\\Users\\Administrator\\Desktop\\xianmu\\mobiebm\\bmmobileapp\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  created: function created() {\n    this.loaddetail();\n    this.getpron(); //获取购物车个数\n  },\n  destroyed: function destroyed() {\n    document.body.style.position = 'relative';\n    document.body.style.overflow = 'auto';\n  },\n  data: function data() {\n    return {\n      num: 0,\n      product: {},\n      pics: [],\n      dtlpics: [],\n      boolen: false,\n      addboolen: false,\n      n: 1,\n      pron: 1\n    };\n  },\n  methods: {\n    choose: function choose(index) {\n      this.num = index;\n    },\n    loaddetail: function loaddetail() {\n      var _this = this;\n\n      var lid = this.$route.query.lid;\n      var url = \"details\";\n      var obj = {\n        lid: lid\n      };\n\n      if (lid !== undefined) {\n        //发送ajax\n        this.axios.get(url, {\n          params: obj\n        }).then(function (result) {\n          var _result$data = result.data,\n              product = _result$data.product,\n              pics = _result$data.pics,\n              dtlpics = _result$data.dtlpics;\n          _this.product = product;\n          _this.pics = pics;\n          _this.dtlpics = dtlpics; //console.log(this.dtlpics); \n\n          console.log(_this.product);\n        });\n      } else {\n        alert(\"请先登录\");\n      }\n    },\n    back: function back() {\n      this.$router.go(-1);\n    },\n    backhome: function backhome() {\n      //弹层出现禁止body滚动条\n      if (this.boolen == true) {\n        this.boolen = false;\n        document.body.style.position = 'relative';\n        document.body.style.overflow = 'auto';\n      } else {\n        this.boolen = true;\n        document.body.style.position = 'fixed';\n        document.body.style.overflow = 'hidden';\n      }\n    },\n    canceladdcart: function canceladdcart() {\n      this.addboolen = false;\n      document.body.style.position = 'relative';\n      document.body.style.overflow = 'auto';\n    },\n    addcart: function addcart() {\n      this.addboolen = true;\n      document.body.style.position = 'fixed';\n      document.body.style.overflow = 'hidden';\n    },\n    getpron: function getpron() {\n      var cartInfo = localStorage.cartInfo ? JSON.parse(localStorage.cartInfo) : [];\n      this.pron = cartInfo.length;\n    },\n    insertcart: function insertcart() {\n      var _this2 = this;\n\n      //加入购物车\n      //是否登录\n      var uid = localStorage.getItem(\"uid\");\n      console.log(uid);\n\n      if (!uid) {\n        //初始化本地缓存购物车 未登录插入本地缓存 \n        var cartInfo = localStorage.cartInfo ? JSON.parse(localStorage.cartInfo) : []; //判断本地每个数组中是否有此种商品\n\n        var isHaveGoods = cartInfo.find(function (cart) {\n          return cart.lid == _this2.product.lid;\n        });\n        console.log(isHaveGoods);\n        console.log(this.product.lid);\n\n        if (isHaveGoods == undefined) {\n          var newGoodsInfo = {\n            lid: this.product.lid,\n            titles: this.product.titles,\n            price: this.product.price,\n            pic: this.product.smpic,\n            lcount: this.n\n          };\n          cartInfo.push(newGoodsInfo);\n          localStorage.cartInfo = JSON.stringify(cartInfo);\n          this.$toast(\"加入成功\");\n          this.canceladdcart();\n        } else {\n          this.$toast(\"已有此商品\");\n          this.canceladdcart();\n        }\n      } else {\n        //用户已登录 发送ajax请求购物车表 \n        var url = \"addcart\";\n        var obj = {\n          lid: this.product.lid,\n          titles: this.product.titles,\n          price: this.product.price,\n          image: this.product.smpic,\n          lcount: this.n,\n          uid: uid\n        };\n        this.axios.get(url, {\n          params: obj\n        }).then(function (result) {\n          var result = result.data;\n\n          if (result.length > 0) {\n            _this2.$toast(\"已有此商品\");\n\n            _this2.canceladdcart();\n          } else {\n            _this2.$toast(\"加入成功\");\n\n            _this2.canceladdcart();\n          }\n        });\n      }\n    },\n    reducen: function reducen() {\n      //数量减少\n      if (this.n > 1) {\n        this.n--;\n      }\n    },\n    addn: function addn() {\n      //数量减少\n      if (this.n < 999) {\n        this.n++;\n      }\n    },\n    Tocart: function Tocart() {\n      var _this3 = this;\n\n      //立即购买\n      this.$router.push({\n        path: '/cart'\n      }); //是否登录\n\n      var uid = localStorage.getItem(\"uid\");\n      console.log(uid);\n\n      if (!uid) {\n        //初始化本地缓存购物车 未登录插入本地缓存 \n        var cartInfo = localStorage.cartInfo ? JSON.parse(localStorage.cartInfo) : []; //判断本地每个数组中是否有此种商品\n\n        var isHaveGoods = cartInfo.find(function (cart) {\n          return cart.lid == _this3.product.lid;\n        }); //console.log(isHaveGoods);\n        //console.log(this.product.lid)\n\n        if (isHaveGoods == undefined) {\n          var newGoodsInfo = {\n            lid: this.product.lid,\n            titles: this.product.titles,\n            price: this.product.price,\n            image: this.product.smpic,\n            lcount: this.n\n          };\n          cartInfo.push(newGoodsInfo);\n          localStorage.cartInfo = JSON.stringify(cartInfo); //this.$toast(\"加入成功\");\n          //this.canceladdcart();\n        }\n      } else {\n        //用户已登录 发送ajax请求购物车表 \n        var url = \"addcart\";\n        var obj = {\n          lid: this.product.lid,\n          titles: this.product.titles,\n          price: this.product.price,\n          pic: this.product.smpic,\n          lcount: this.n,\n          uid: uid\n        };\n        this.axios.get(url, {\n          params: obj\n        }).then(function (result) {\n          var result = result.data;\n\n          if (result.length > 0) {\n            console.log(\"已有\");\n          } else {\n            console.log(\"加入成功\");\n          }\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["detail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"container\">\r\n        <!-- 遮罩弹出层 -->\r\n        <div v-show=\"boolen\" class=\"surpermask\">\r\n            <ul>\r\n                <li>\r\n                    <router-link :to=\"'/bama?key=index'\">\r\n                        <span class=\"iconfont icon-home\" ></span>首页\r\n                    </router-link>\r\n                </li>\r\n                <li>\r\n                    <router-link :to=\"'/bama?key=user'\">\r\n                        <span class=\"iconfont icon-user\" ></span>我的\r\n                    </router-link>\r\n                </li>\r\n                <li>\r\n                    <router-link :to=\"'/bama?key=prolist'\">\r\n                        <span class=\"iconfont icon-search\" ></span>搜索\r\n                    </router-link>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n\r\n        <div class=\"header\">\r\n            <div>\r\n                <span class=\"ico1 iconfont icon-icon-test2\" @click=\"back\"></span>\r\n            </div>\r\n            <div>\r\n                <span class=\"ico2 iconfont icon-icon-test1\"></span>\r\n                <span class=\"ico3 iconfont icon-unorderedlist\" @click=\"backhome\"></span>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"cousel\">\r\n            <mt-swipe :auto=\"0\">\r\n                <mt-swipe-item v-for=\"(item1,index) in pics\" :key=\"index\"><img :src=\"'http://127.0.0.1:3000/'+item1.lg\" alt=\"\" width=\"100%\"></mt-swipe-item>\r\n            </mt-swipe>\r\n        </div><!--轮播图-->\r\n        <div class=\"bodytext\">\r\n            <p class=\"title\">\r\n            {{product.titles}}\r\n            </p>\r\n\r\n            <p class=\"salemsg\">\r\n                2019.05.31-2019.06.20 买就送茶家族{{product.cname}}\r\n            </p>\r\n\r\n            <div class=\"price\">\r\n                <div class=\"left\">￥<strong>{{product.price}}</strong></div>\r\n                <div class=\"right\">销量<span>{{product.lcount}}</span></div>\r\n            </div>\r\n\r\n            <div class=\"salecondition\">\r\n                <ul>\r\n                    <li class=\"m-6\">领券</li>\r\n                    <div>\r\n                        <li class=\"mj\">满199减10</li>\r\n                        <li class=\"mj\">满499减20</li>\r\n                    </div>\r\n                    <li class=\"right-row\"></li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div class=\"prospec\">\r\n                <ul>\r\n                    <div>\r\n                        <li class=\"m-6\">已选</li>\r\n                        <li>主商品</li>\r\n                    </div>  \r\n                    <li class=\"right-row\"></li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div class=\"adress\">\r\n                <p><span class=\"m-6\">送至</span>北京北京市朝阳区</p>\r\n                <p><span class=\"m-6\">运费</span>包邮</p>\r\n                <p><span class=\"m-6\">提示</span> <span></span>正品保障 <span></span>七天无理由退货</p>\r\n            </div>\r\n\r\n            <div class=\"conment\">\r\n                <ul>\r\n                    <li class=\"m-6\">评论(暂无评价)</li>\r\n                    <li class=\"right-row\"></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\"prodetail\">\r\n            <ul>\r\n                <li class=\"prointr1\" @click=\"choose(0)\" :class=\"{active:num==0}\">商品介绍</li>\r\n                <li class=\"prointr2\" @click=\"choose(1)\" :class=\"{active:num==1}\">规格参数</li>\r\n            </ul>\r\n            <div class=\"prointr1-text\" v-show=\"0 == num\">\r\n                <div class=\"text\">\r\n                   <p>商品名称 : <span>八马茶业2019新茶 洞庭碧落春茶业 绿茶礼盒装150克</span> </p>\r\n                   <p>商品编号 : <span>201806281343541</span> </p>\r\n                   <p>店铺 : <span>八马茶业商城</span> </p>\r\n                   <p>时间 : <span>2019-04-07 20:23:29</span> </p>\r\n                   <p>级别 : <span>特级</span> </p>\r\n                   <p>包装 : <span>礼盒装</span> </p>\r\n                   <p>干茶形状 : <span>条形</span> </p>\r\n                   <p>生长季节 : <span>春季</span> </p>\r\n                   <p>食品工艺 : <span>炒青绿茶</span> </p>\r\n                   <p>是否进口 : <span>否</span> </p>\r\n                </div>\r\n\r\n                <div class=\"picture\">\r\n                    <img v-for=\"(item2,index) in dtlpics\" :key=\"index\" :src=\"'http://127.0.0.1:3000/'+item2.psrc\" width=\"100%\" alt=\"\">\r\n                    <!-- <img src=\"../../../assets/image/img/1/right_pro/mxcl/main03.jpg\" width=\"100%\" alt=\"\">\r\n                    <img src=\"../../../assets/image/img/1/right_pro/mxcl/main03.jpg\" width=\"100%\" alt=\"\">\r\n                    <img src=\"../../../assets/image/img/1/right_pro/mxcl/main03.jpg\" width=\"100%\" alt=\"\"> -->\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"prointr2-text\" v-show=\"1 == num\">\r\n               <p>详细参数</p>\r\n               <p><span class=\"left\">生产许可证编号:</span><span>SC11432050600289</span></p>\r\n               <p><span class=\"left\">储藏方法:</span><span>防潮湿、防异味、避光直射</span></p>\r\n               <p><span class=\"left\">保质期:</span><span>18个月</span></p>\r\n               <p><span class=\"left\">食品添加剂:</span><span>无</span></p>\r\n               <p><span class=\"left\">产品名称:</span><span>八马 碧螺春 礼盒</span></p>\r\n               <p><span class=\"left\">净含量:</span><span>150g</span></p>\r\n               <p><span class=\"left\">品牌:</span><span>八马</span></p>\r\n               <p><span class=\"left\">产地:</span><span>中国大陆</span></p>\r\n               <p><span class=\"left\">省份:</span><span>江苏省</span></p>\r\n               <p><span class=\"left\">货号:</span><span>BF029</span></p>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"footer\">\r\n            <div class=\"cart\">\r\n                <div>\r\n                  <router-link :to=\"'/cart'\"> \r\n                    <mt-badge class=\"huizhang\" size=\"small\" type=\"primary\">{{pron}}</mt-badge>\r\n                    <span class=\"iconfont icon-gouwuche\"></span><br>\r\n                    <span>购物车</span>\r\n                  </router-link>\r\n                </div>\r\n            </div>\r\n            <div class=\"kefu\">\r\n                <div>\r\n                    <span class=\"iconfont icon-user\"></span><br>\r\n                    <span>客服</span>\r\n                </div> \r\n            </div>\r\n            <div class=\"addcart\" @click=\"addcart()\">加入购物车</div>\r\n            <div class=\"buybtn\" @click=\"Tocart()\">立即购买</div>\r\n        </div>\r\n\r\n        <!-- 遮罩弹出层 加入购物车-->\r\n        <div v-show=\"addboolen\" class=\"addcartmask\">\r\n            <div :class={active:addboolen} class=propcart>\r\n                <div class=\"addcarpro\">\r\n                    <div class=\"leftimg\">\r\n                        <div>\r\n                            <img :src=\"'http://127.0.0.1:3000/'+product.smpic\" alt=\"\"  height=\"80%\" width=\"80%\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"righttext\">\r\n                        <p>{{product.titles}}</p>\r\n                        <p style=\"color:red\">￥{{product.price}}元 <span @click=\"canceladdcart()\">x</span>   </p>\r\n                    </div>\r\n                </div>\r\n                <ul>\r\n                    <li>属性</li>\r\n                    <li class=\"prospc\">主商品</li>\r\n                    <li>数量</li>\r\n                    <li>\r\n                        <div class=\"procount\">\r\n                            <a href=\"#\" @click=\"reducen()\"><i class=\"iconfont icon-minus-square\"></i></a>\r\n                            <input type=\"number\" value=\"1\" v-model=\"n\">\r\n                            <a href=\"#\" @click=\"addn()\"><i class=\"iconfont icon-plus-square\"></i></a>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n                <button @click=\"insertcart()\">确认</button>\r\n            </div>\r\n            \r\n        </div>\r\n\r\n    </div>    \r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    created(){\r\n        this.loaddetail();\r\n        this.getpron();//获取购物车个数\r\n    },\r\n    destroyed(){\r\n        document.body.style.position = 'relative';\r\n        document.body.style.overflow = 'auto';\r\n    },\r\n    data() {\r\n        return {\r\n            num:0,\r\n            product:{},\r\n            pics:[],\r\n            dtlpics:[],\r\n            boolen:false,\r\n            addboolen:false,\r\n            n:1,\r\n            pron:1,\r\n\r\n        }\r\n    },\r\n    methods:{\r\n        choose(index) {\r\n            this.num = index;\r\n        },\r\n        loaddetail(){\r\n            var lid=this.$route.query.lid;\r\n            var url=\"details\";\r\n            var obj={lid:lid};\r\n            if(lid!==undefined){\r\n                //发送ajax\r\n                this.axios.get(url,{params:obj}).then(result=>{\r\n                    var{product,pics,dtlpics}=result.data;\r\n                    this.product=product;\r\n                    this.pics=pics;\r\n                    this.dtlpics=dtlpics;\r\n                    //console.log(this.dtlpics); \r\n                    console.log(this.product)  \r\n                })\r\n            }else{\r\n                alert(\"请先登录\");\r\n            }\r\n        },\r\n        back(){\r\n            this.$router.go(-1);\r\n        },\r\n        backhome(){//弹层出现禁止body滚动条\r\n            if(this.boolen==true){\r\n                this.boolen=false;\r\n                document.body.style.position = 'relative';\r\n                document.body.style.overflow = 'auto';\r\n            }else{\r\n                this.boolen=true;\r\n                document.body.style.position = 'fixed';\r\n                document.body.style.overflow = 'hidden';\r\n            }\r\n        },\r\n        canceladdcart(){\r\n            this.addboolen=false;\r\n            document.body.style.position = 'relative';\r\n            document.body.style.overflow = 'auto';\r\n        },\r\n        addcart(){\r\n            this.addboolen=true;\r\n            document.body.style.position = 'fixed';\r\n            document.body.style.overflow = 'hidden';\r\n        },\r\n        getpron(){\r\n            let cartInfo=localStorage.cartInfo?JSON.parse(localStorage.cartInfo):[];\r\n                this.pron=cartInfo.length;\r\n        },\r\n        insertcart(){//加入购物车\r\n           //是否登录\r\n            var uid=localStorage.getItem(\"uid\");\r\n            console.log(uid);\r\n            if(!uid){\r\n                 //初始化本地缓存购物车 未登录插入本地缓存 \r\n                let cartInfo=localStorage.cartInfo?JSON.parse(localStorage.cartInfo):[];\r\n                //判断本地每个数组中是否有此种商品\r\n                let isHaveGoods=cartInfo.find(cart=>cart.lid==this.product.lid);\r\n                    console.log(isHaveGoods);\r\n                    console.log(this.product.lid)\r\n                if(isHaveGoods==undefined){\r\n                    let newGoodsInfo = {\r\n                        lid:this.product.lid,\r\n                        titles:this.product.titles,\r\n                        price:this.product.price,\r\n                        pic:this.product.smpic,\r\n                        lcount:this.n,\r\n                    };\r\n                    cartInfo.push(newGoodsInfo);\r\n                    localStorage.cartInfo=JSON.stringify(cartInfo);\r\n                    this.$toast(\"加入成功\");\r\n                    this.canceladdcart();\r\n                }else{ \r\n                    this.$toast(\"已有此商品\");\r\n                    this.canceladdcart();\r\n                }\r\n            }else{//用户已登录 发送ajax请求购物车表 \r\n                var url=\"addcart\";\r\n                var obj={lid:this.product.lid,\r\n                        titles:this.product.titles,\r\n                        price:this.product.price,\r\n                        image:this.product.smpic,\r\n                        lcount:this.n,\r\n                        uid:uid};\r\n                this.axios.get(url,{params:obj}).then(result=>{\r\n                    var result=result.data;\r\n                    if(result.length>0){\r\n                        this.$toast(\"已有此商品\");\r\n                        this.canceladdcart();\r\n                    }else{\r\n                        this.$toast(\"加入成功\");\r\n                        this.canceladdcart();\r\n                    } \r\n                })\r\n            }\r\n        },\r\n        reducen(){//数量减少\r\n            if(this.n>1){\r\n                this.n--;\r\n            }  \r\n        },\r\n        addn(){//数量减少\r\n            if(this.n<999){\r\n                this.n++;\r\n            }  \r\n        },\r\n        Tocart(){//立即购买\r\n            this.$router.push({path:'/cart'})\r\n            //是否登录\r\n            var uid=localStorage.getItem(\"uid\");\r\n            console.log(uid);\r\n            if(!uid){\r\n                 //初始化本地缓存购物车 未登录插入本地缓存 \r\n                let cartInfo=localStorage.cartInfo?JSON.parse(localStorage.cartInfo):[];\r\n                //判断本地每个数组中是否有此种商品\r\n                let isHaveGoods=cartInfo.find(cart=>cart.lid==this.product.lid);\r\n                    //console.log(isHaveGoods);\r\n                    //console.log(this.product.lid)\r\n                if(isHaveGoods==undefined){\r\n                    let newGoodsInfo = {\r\n                        lid:this.product.lid,\r\n                        titles:this.product.titles,\r\n                        price:this.product.price,\r\n                        image:this.product.smpic,\r\n                        lcount:this.n,\r\n                    };\r\n                    cartInfo.push(newGoodsInfo);\r\n                    localStorage.cartInfo=JSON.stringify(cartInfo);\r\n                    //this.$toast(\"加入成功\");\r\n                    //this.canceladdcart();\r\n                }\r\n            }else{//用户已登录 发送ajax请求购物车表 \r\n                var url=\"addcart\";\r\n                var obj={lid:this.product.lid,\r\n                        titles:this.product.titles,\r\n                        price:this.product.price,\r\n                        pic:this.product.smpic,\r\n                        lcount:this.n,\r\n                        uid:uid};\r\n                this.axios.get(url,{params:obj}).then(result=>{\r\n                    var result=result.data;\r\n                    if(result.length>0){\r\n                        console.log(\"已有\")\r\n                    }else{\r\n                        console.log(\"加入成功\");\r\n                    } \r\n                })\r\n            }\r\n        },//立即购买\r\n        \r\n\r\n    }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n/*头部的样式*/ \r\n.header{\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n    height: 3.4em;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 0.6em;\r\n    position: fixed;\r\n    z-index: 900;\r\n}\r\n.header div span{\r\n    display: block;\r\n    font-size: 1.3em;\r\n    width: 1.3em;\r\n    height: 1.3em;\r\n    text-align: center;\r\n    line-height: 1.3em;\r\n    background-color:rgba(100,100,100,0.3);\r\n    border: 1px solid #999;\r\n    border-radius: 1em;\r\n}\r\n.header div:last-child{\r\n    display: flex;\r\n}\r\n.header div span:last-child{\r\n    margin-left: 0.5em;\r\n}\r\n/*轮播的样式*/ \r\n.cousel{\r\n    width: 100%;\r\n    height: 24em;\r\n}\r\n.mint-swipe-indicator{\r\n    opacity: 0.8 !important;\r\n    background: #352121;\r\n}\r\n/*文本主体*/\r\n.bodytext{\r\n    padding: 0.5em;\r\n}\r\n.title{\r\n    width: 100%;\r\n    height: 2.5em;\r\n    font-size: 0.9em;\r\n    line-height: 1.3em;\r\n}\r\n.salemsg{\r\n    width: 100%;\r\n    height: 1em;\r\n    font-size: 0.75em;\r\n    margin: 0.6em 0;\r\n    color: red;\r\n}\r\n.price,.salecondition>ul,.salecondition div,.prospec div{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n.salecondition>ul,.prospec ul,.conment ul{\r\n    display: flex;\r\n    height: 1.5em;\r\n    font-size: 0.8em;\r\n    margin: 0.5em 0;\r\n    border-top: 1px solid #999;\r\n    border-bottom: 1px solid #999;\r\n    padding: 0.5em 0;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n.adress{\r\n    height: 5.5em;\r\n    font-size: 0.8em;\r\n    margin: 0.5em 0;\r\n    border-top: 1px solid #999;\r\n    border-bottom: 1px solid #999;\r\n    padding: 0.5em 0;\r\n}\r\n.adress p{\r\n    height: 2em;\r\n}\r\n.price .left{\r\n    font-size: 1.3em;\r\n    color: red;\r\n    font-weight: 500;\r\n}\r\n.price .right{\r\n    font-size: 0.8em;\r\n}\r\n.mj{\r\n    width: 44%;\r\n    margin-left: 0.2em;\r\n    height: 1.2em;\r\n    background-color:rgba(220,0,0,0.6);\r\n    padding: 0.3em;\r\n    border: 1px solid #000;\r\n    font-size: 0.3em;\r\n    color: aliceblue;\r\n}\r\n.m-6{\r\n    margin: 0 0.6em 0 0.6em;\r\n    color: #999;\r\n}\r\n.right-row{\r\n    display: block;\r\n    width: 1.5em;\r\n    height: 1.5em;\r\n     margin: 0 0.6em 0 0.6em;\r\n    background-image: url(../../../assets/image/common/right-row.png);\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n    background-position: center center;\r\n}\r\n/*商品规格和介绍*/ \r\n.prodetail>ul{\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    border-top:1px solid #999;\r\n    border-bottom:1px solid #999;\r\n}\r\n.prodetail>ul li{\r\n    width: 50%;\r\n    height: 2.5em;\r\n    text-align: center;\r\n    line-height: 2.5em;\r\n}\r\n.prodetail>ul li.active{\r\n    box-sizing: border-box;\r\n    border-bottom: 1px solid red;\r\n}\r\n.prodetail>ul li:first-child{\r\n    border-right:1px solid #999; \r\n}\r\n\r\n.prointr1-text>.text p{\r\n    margin: 0.2em;\r\n    padding: 0.2em;\r\n}\r\n.prointr1-text img{\r\n    vertical-align: bottom;/*消除图片之间的间隙*/\r\n}\r\n.container{\r\n    margin-bottom: 5em;\r\n}\r\n\r\n.prointr2-text{\r\n    border-top: 1px solid #999;\r\n    border-left: 1px solid #999;\r\n    border-right: 1px solid #999;\r\n    margin: 0.5em;\r\n}\r\n.prointr2-text p:first-child,.prointr2-text p:first-child~p{\r\n    border-bottom: 1px solid #999;\r\n    height: 1.8em;\r\n    line-height: 1.8em;\r\n    padding: 0.3em;\r\n}\r\n.prointr2-text span{\r\n    text-align: left;\r\n}\r\n.prointr2-text .left{\r\n    display: inline-block;\r\n    width: 35%;\r\n    color: #999;\r\n    border-right: 1px solid #999;\r\n    font-size: 0.9em;\r\n}\r\n.left+span{\r\n    margin-left: 0.5em;\r\n    font-size: 0.9em;\r\n    font-weight: 700;\r\n}\r\n\r\n/*底部*/\r\n.footer{\r\n    display: flex;\r\n    position: fixed;\r\n    bottom: 0;\r\n    z-index: 900;\r\n    background-color: aliceblue;\r\n    border-top: 1px solid #999;\r\n    border-bottom: 1px solid #999;\r\n    width: 100%;\r\n}\r\n.cart,.kefu{\r\n    width: 20%;\r\n    height: 2.5em;\r\n    padding: 1em 1em 0 1em;\r\n    font-size: 0.8em;\r\n    text-align: center;\r\n}\r\n.addcart,.buybtn{\r\n    width: 30%;\r\n    height: 3.5em;\r\n    line-height: 3.5em;\r\n    text-align: center;\r\n}\r\n.addcart{\r\n    background-color: #FFA526;\r\n}\r\n.buybtn{\r\n    background-color: #E63D59;\r\n}\r\n.surpermask{\r\n    position: fixed;\r\n    z-index: 1000;\r\n    width: 100%;\r\n    left: 0;\r\n    top: 2.8rem;\r\n    bottom: 0;\r\n    background: rgba(0, 0, 0, .5);\r\n}\r\n.surpermask>ul{\r\n    width: 30%;\r\n    position: absolute;\r\n    right: 1em;\r\n    top: 1em;\r\n    background-color: aliceblue;\r\n    border-radius: 0.5em;\r\n    text-align: center;\r\n}\r\n.surpermask>ul li{\r\n    width: 100%;\r\n    height: 2.8em;\r\n    line-height: 2.8em;\r\n    border-bottom: 1px solid #999;\r\n}\r\n.surpermask>ul li:last-child{\r\n    border: none;\r\n}\r\n\r\n.addcartmask{\r\n    position: fixed;\r\n    z-index: 1000;\r\n    width: 100%;\r\n    left: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    background: rgba(0, 0, 0, .5);\r\n    overflow: hidden;\r\n}\r\n.addcartmask>div{\r\n    background-color: aliceblue;\r\n    width: 100%;\r\n    height: 30em;\r\n    position: absolute;\r\n    bottom: 0;\r\n}\r\n.addcartmask ul{\r\n    padding: 1em;\r\n}\r\n.addcartmask ul li{\r\n    font-size: 1.2em;\r\n    height: 3em;\r\n    line-height: 3em;\r\n}\r\n.procount{\r\n    display:flex;\r\n    justify-content: left;\r\n    align-items: center;\r\n    font-size: 2em;\r\n}\r\n.procount input{\r\n    width: 2em;\r\n    text-align: center;\r\n    outline: none;\r\n\r\n}\r\n.addcarpro{\r\n    width: 100%;\r\n    height: 9em;\r\n    display: flex;\r\n    border-bottom: 1px solid #999;\r\n}\r\n.addcarpro .leftimg{\r\n    width: 45%;\r\n\r\n}\r\n\r\n.leftimg div{\r\n    padding: 1em 0em 0.5em 0em;\r\n    text-align: center;\r\n    position: relative;\r\n    top: -1.5em;\r\n    left: 0.5em;\r\n    border-radius: 0.3em;\r\n    background-color: aliceblue;\r\n}\r\n.addcarpro .righttext{\r\n    width: 55%;\r\n    padding-left: 0.5em;\r\n    padding-top: 1em;\r\n    padding-right: 0.3em;\r\n    overflow: hidden;\r\n}\r\n.addcarpro .righttext p{\r\n    height: 4.5em;\r\n}\r\n.righttext span{\r\n    display: inline-block;\r\n    border-radius: 50%;\r\n    border: 1px solid #999;\r\n    width: 1.5em;\r\n    height: 1.5em;\r\n    color: #999;\r\n    text-align: center;\r\n    line-height: 1.3em;\r\n    font-size: 1.5em;\r\n    position: relative;\r\n    right: -3em;\r\n}\r\n.prospc{\r\n    width: 20%;\r\n    height: 2.5em;\r\n    line-height: 2.5em;\r\n    border-radius: 0.5em;\r\n    text-align: center;\r\n    background-color: #E63D59;\r\n    color: aliceblue;\r\n}\r\n.addcartmask button{\r\n    width: 100%;\r\n    height: 2.5em;\r\n    font-size: 1.2em;\r\n    background-color: #E63D59;\r\n    position: fixed;\r\n    bottom: 0;\r\n    color: aliceblue;\r\n    outline: none;\r\n}\r\n.propcart{\r\n    position: absolute;\r\n    top: 50em;\r\n}\r\n.addcartmask .active{\r\n    position: absolute;\r\n    top: 12em;\r\n    transition: top 1s;\r\n\r\n}\r\n</style>\r\n"],"sourceRoot":"src\\components\\bamobile\\common"}]}