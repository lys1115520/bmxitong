{"remainingRequest":"C:\\Users\\web\\Desktop\\projects\\mobiebm\\bmmobileapp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\web\\Desktop\\projects\\mobiebm\\bmmobileapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\projects\\mobiebm\\bmmobileapp\\src\\components\\bamobile\\common\\prolist.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\web\\Desktop\\projects\\mobiebm\\bmmobileapp\\src\\components\\bamobile\\common\\prolist.vue","mtime":1561551416208},{"path":"C:\\Users\\web\\Desktop\\projects\\mobiebm\\bmmobileapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\web\\Desktop\\projects\\mobiebm\\bmmobileapp\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\Users\\web\\Desktop\\projects\\mobiebm\\bmmobileapp\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  created: function created() {\n    this.loadpro();\n    this.loadpro2();\n  },\n  data: function data() {\n    return {\n      value: \"铁观音\",\n      list0: [],\n      pno: 0,\n      //页码\n      pageSize: 4,\n      //页大小\n      listnum: 1,\n      num: 1,\n      n: 0\n    };\n  },\n  methods: {\n    choose: function choose(index) {\n      this.num = index;\n      this.n = index;\n      this.loadpro1(this.n); //console.log(\"aaa\")\n    },\n    loadpro: function loadpro() {\n      var _this = this;\n\n      //1:获取当前页码加1\n      this.pno++; //3:创建参数对象\n\n      var egtitle = this.$route.query.egtitle;\n      console.log(egtitle);\n      var obj = {\n        pno: this.pno,\n        pageSize: this.pageSize,\n        egtitle: egtitle\n      };\n      var url = \"prolist\";\n      this.axios.get(url, {\n        params: obj\n      }).then(function (result) {\n        //console.log(result.data);\n        if (result.data.length == _this.pageSize) {\n          _this.listnum = 1;\n        } else {\n          _this.listnum = 0;\n        }\n\n        var rows = _this.list0.concat(result.data);\n\n        _this.list0 = rows;\n      });\n    },\n    loadpro1: function loadpro1(index) {\n      var _this2 = this;\n\n      //创建参数对象\n      var egtitle = this.$route.query.egtitle;\n      var obj = {\n        egtitle: egtitle,\n        n: this.n\n      };\n      var url = \"prolist1\";\n      this.axios.get(url, {\n        params: obj\n      }).then(function (result) {\n        console.log(result.data);\n        _this2.listnum = 1;\n        _this2.list0 = [];\n\n        var rows = _this2.list0.concat(result.data);\n\n        _this2.list0 = rows;\n      });\n    },\n    loadpro2: function loadpro2() {\n      var _this3 = this;\n\n      //模糊搜索\n      var key = this.$route.query.key; //console.log(key)\n\n      if (key != undefined) {\n        var obj = {\n          key: key\n        };\n        var url = \"prolist2\";\n        this.axios.get(url, {\n          params: obj\n        }).then(function (result) {\n          console.log(result.data);\n          _this3.listnum = 1;\n          _this3.list0 = [];\n\n          var rows = _this3.list0.concat(result.data);\n\n          _this3.list0 = rows;\n        });\n      }\n    },\n    loadpro3: function loadpro3() {\n      var _this4 = this;\n\n      var key = this.value;\n      console.log(key);\n      var obj = {\n        key: key\n      };\n      var url = \"prolist2\";\n      this.axios.get(url, {\n        params: obj\n      }).then(function (result) {\n        console.log(result.data);\n        _this4.listnum = 1;\n        _this4.list0 = [];\n\n        var rows = _this4.list0.concat(result.data);\n\n        _this4.list0 = rows;\n      });\n    }\n  } //methods\n\n};",{"version":3,"sources":["prolist.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"container\">\r\n        <div class=\"header\">\r\n            <mt-search\r\n            @keyup.enter.native=\"loadpro3\"\r\n            v-model=\"value\"\r\n            cancel-text=\"取消\"\r\n            placeholder=\"搜索\">\r\n            </mt-search>\r\n            <ul class=\"btnconditions\">\r\n                <li @click=\"choose(0)\" :class=\"{active:num==0}\">默认排序<span></span></li>\r\n                <li @click=\"choose(1)\" :class=\"{active:num==1}\">销量</li>\r\n                <li @click=\"choose(2)\" :class=\"{active:num==2}\">价格</li>\r\n                <li  :class=\"{active:num==3}\">筛选<span></span></li>\r\n            </ul>\r\n        </div>\r\n\r\n        <div id=\"zhanwei\"></div>\r\n        <div class=\"prolist\">\r\n            <ul>\r\n                <li v-for=\"(item,index) in list0\" :key=\"index\">\r\n                    <div class=\"leftimg\"><img :src=\"'http://127.0.0.1:3000/'+item.smpic\" alt=\"\" width=\"100%\"></div>\r\n                    <div class=\"righttext\">\r\n                        <p class=\"title\">\r\n                            <router-link :to=\"'/detail?lid='+item.lid\">\r\n                            {{item.titles}} </router-link>\r\n                        </p>\r\n                        <p class=\"youhui\">\r\n                            <span>￥{{item.price.toFixed(2)}}</span><strong>领劵</strong>\r\n                        </p>\r\n                        <p class=\"haoping\">\r\n                            <span>自营 </span>\r\n                            <span> 好评100% </span>\r\n                            <span> 销量 <strong>6</strong> </span>\r\n                        </p>\r\n                    </div>\r\n                </li>\r\n\r\n            </ul>\r\n            <div v-show=\"listnum==0\">\r\n                <h1>没有更多了！</h1>\r\n            </div>\r\n            <div v-show=\"listnum==1\" @click=\"loadpro()\">\r\n                <h1>点击加载更多！</h1>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    created(){\r\n        this.loadpro();\r\n        this.loadpro2();\r\n    },\r\n    data() {\r\n        return {\r\n            value:\"铁观音\",\r\n            list0:[],\r\n            pno:0,    //页码\r\n            pageSize:4,//页大小\r\n            listnum:1,\r\n            num:1,\r\n            n:0\r\n        }\r\n    },\r\n    methods:{\r\n        choose(index) {\r\n            this.num = index;\r\n            this.n = index;\r\n            this.loadpro1(this.n);\r\n            //console.log(\"aaa\")\r\n        },\r\n        loadpro(){\r\n            //1:获取当前页码加1\r\n            this.pno++;\r\n            //3:创建参数对象\r\n            var egtitle=this.$route.query.egtitle;\r\n            console.log(egtitle);\r\n            var obj = {\r\n                pno:this.pno,\r\n                pageSize:this.pageSize,\r\n                egtitle:egtitle};\r\n            \r\n            var url=\"prolist\";\r\n            this.axios.get(url,{params:obj}).then(result=>{\r\n                //console.log(result.data);\r\n                if(result.data.length==this.pageSize){\r\n                    this.listnum=1\r\n                }else{\r\n                    this.listnum=0\r\n                }\r\n                var rows = this.list0.concat(result.data);\r\n                this.list0 = rows;\r\n            })\r\n        },\r\n        loadpro1(index){\r\n            //创建参数对象\r\n            var egtitle=this.$route.query.egtitle;\r\n            var obj = {\r\n                egtitle:egtitle,\r\n                n:this.n};\r\n            \r\n            var url=\"prolist1\";\r\n            this.axios.get(url,{params:obj}).then(result=>{\r\n                console.log(result.data);\r\n                this.listnum=1\r\n                this.list0=[];\r\n                var rows = this.list0.concat(result.data);\r\n                this.list0 = rows;\r\n            })\r\n        },\r\n        loadpro2(){//模糊搜索\r\n            var key=this.$route.query.key;\r\n            //console.log(key)\r\n            if(key!=undefined){\r\n                var obj={key};\r\n                var url=\"prolist2\";\r\n                this.axios.get(url,{params:obj}).then(result=>{\r\n                    console.log(result.data);\r\n                    this.listnum=1\r\n                    this.list0=[];\r\n                    var rows = this.list0.concat(result.data);\r\n                    this.list0 = rows;\r\n                })\r\n            }    \r\n        },\r\n        loadpro3(){\r\n            var key=this.value;\r\n            console.log(key)\r\n            var obj={key};\r\n            var url=\"prolist2\";\r\n            this.axios.get(url,{params:obj}).then(result=>{\r\n                console.log(result.data);\r\n                this.listnum=1\r\n                this.list0=[];\r\n                var rows = this.list0.concat(result.data);\r\n                this.list0 = rows;\r\n            })\r\n        },\r\n    \r\n    },//methods\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.header{\r\n    position: fixed;\r\n    z-index: 1;\r\n    width: 100%;\r\n}\r\n.btnconditions{\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: aliceblue;\r\n    padding: 0.3em;\r\n    font-size: 0.95em;\r\n    font-family: 'Courier New', Courier, monospace;\r\n    z-index: 999;\r\n}\r\n.btnconditions li{\r\n    width: 25%;\r\n    height: 2.0em;\r\n    line-height: 2.0em;\r\n    border-right: 1px solid #999;\r\n    text-align: center;\r\n}\r\n.btnconditions .active{\r\n    border-bottom: 1px solid red;\r\n    color: red;\r\n}\r\n.btnconditions li:last-child{\r\n    border-right:none;\r\n}\r\n#zhanwei{\r\n    height: 5em;\r\n}\r\n.prolist ul li{\r\n    display: flex;\r\n    justify-content: space-around;\r\n\r\n    margin-top: 0.3em;\r\n}\r\n.prolist ul li .leftimg{\r\n    width: 28%;\r\n}\r\n.prolist ul li .righttext{\r\n    width: 65%;\r\n    height: 6.5em;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-around;\r\n}\r\n.righttext .haoping{\r\n    display: flex;\r\n    align-items: center\r\n}\r\n.righttext .title a{\r\n    color: #0894ec;\r\n    font-size: 0.85em;\r\n}\r\n.youhui span{\r\n    color: red;\r\n    font-size: 1.35em;\r\n}\r\n.youhui{\r\n    height: 1.8em;\r\n    line-height: 1.8em;\r\n}\r\n.youhui strong{\r\n    display: inline-block;\r\n    background-color: red;\r\n    color: aliceblue;\r\n    width: 3.5em;\r\n    height: 90%;\r\n    font-size: 0.7em;\r\n    margin-left: 1.7em;\r\n    margin-bottom: 0.2em;\r\n    text-align: center;\r\n    border-radius: 20%;\r\n}\r\nh1{\r\n    width: 100%;\r\n    margin-top: 2em;\r\n    text-align: center;\r\n}\r\n.haoping{\r\n    font-size: 0.9em;\r\n    color: #999;\r\n}\r\n</style>\r\n"],"sourceRoot":"src\\components\\bamobile\\common"}]}